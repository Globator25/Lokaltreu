- **Einschub server.ts**: Direkt nach der bestehenden `import http ...`-Zeile wird `import "./observability/otel";` erg├ñnzt; im Request-Handler (innerhalb `http.createServer((req, res) => { ... })`) werden zu Beginn `const start = performance.now(); const route = (req.url ?? "/").split("?")[0] || "/"` eingef├╝gt und vor jedem `return` am `res` ein `res.once("finish", ...)`-Callback verwendet, das Labels `const labels = { route, method: req.method ?? "GET", status_code: String(res.statusCode), env: process.env.NODE_ENV ?? "development" };` bildet, `http_server_requests_total.add(1, labels)` aufruft, bei Status ÔëÑ500 zus├ñtzlich `http_server_errors_total.add(1, labels)` und `http_server_duration_ms.record(performance.now() - start, labels)`; beim 429-Zweig `rate_limited_total.add(1, labels)`.  
- **Imports**: Ganz oben `import "./observability/otel";`, danach wie gehabt `import http ...`; zus├ñtzlich innerhalb server.ts `import { httpServerRequestsTotal, httpServerErrorsTotal, httpServerDurationMs, rateLimitedTotal } from "./observability/metrics";` (oder relativer Pfad `./observability/metrics`), wobei Reihenfolge strikt: erst Side-Effect-Import `./observability/otel`, dann node/core/relative Imports.  
- **Neue Dateien**: `apps/api/src/observability/otel.ts` initialisiert OpenTelemetry/Prometheus-Exporter (z.ÔÇ»B. `import { PrometheusExporter } from "@opentelemetry/exporter-prometheus"; import { MeterProvider } from "@opentelemetry/sdk-metrics";`), erstellt einen `MeterProvider`, registriert ihn global und exportiert optional nichts ÔÇô rein Side-Effect; `apps/api/src/observability/metrics.ts` importiert den globalen Meter (`import { metrics } from "@opentelemetry/api"; const meter = metrics.getMeter("lokaltreu-api");`) und exportiert vorbereitete Instrumente.  
- **Metriken & Labels**: In `metrics.ts` werden vier Instrumente erzeugt:  
  1. `http_server_requests_total` (`meter.createCounter("http_server_requests_total", { description: "Total incoming HTTP requests" });`).  
  2. `http_server_duration_ms` (`meter.createHistogram("http_server_duration_ms", { description: "Server request duration in milliseconds", unit: "ms" });`).  
  3. `http_server_errors_total` (`meter.createCounter("http_server_errors_total", { description: "5xx errors served" });`).  
  4. `rate_limited_total` (`meter.createCounter("rate_limited_total", { description: "HTTP 429 responses" });`).  
  Alle Messpunkte erhalten ausschlie├ƒlich die Labels `route` (Pfad ohne Querystring), `method` (HTTP-Methode), `status_code` (String), `env` (aus `NODE_ENV`, Default `"development"`).
