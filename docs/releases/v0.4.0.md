# v0.4.0 – Governance & CI-Gates

Release-Datum: 2025-02-XX  
Scope: Hardening der Governance-Dokumente (AGENTS, Compliance, Observability) und Aktivierung aller CI-Gates gem. Roadmap 2.3.1 Phase 1/4.

---

## Highlights

1. **CI-Gates aktiviert:**  
   - Required Checks: `ci` (Lint/Build/Tests/Coverage), `security-gates`, `gdpr-compliance`.  
   - Schema-Drift/Contract-Sync blockieren Merge bei Abweichungen.  
   - Terraform fmt/validate als Pflichtschritt.

2. **Governance-Dokumente aktualisiert:**  
   - `docs/CI-Gates.md` beschreibt jetzt alle Gates inkl. Break-Glass-Policy.  
   - `docs/evidence/AGENTS.snapshot.md` eingeführt (Snapshot v2.2-gold).  
   - `docs/05-Compliance.md`, `docs/04-Security-and-Abuse.md`, `docs/03-NFRs.md` überarbeitet.

3. **Observability & Infra:**  
   - `docs/observability/metrics-logs-traces.md` neu, inkl. EU-only Stack und Pflichtmetriken.  
   - Provider- und DNS-Doku (Fly, Neon, Upstash, Cloudflare, Mailjet/Brevo, Status-Page) aktualisiert.

4. **Prompt-Toolkit:**  
   - Standardisierte `<ziel>/<kontext>/<anforderung>`-Prompts zur Nachvollziehbarkeit von KI-Einsatz.

---

## Branch Protection / Quality Gates

- Branch `feature/step-4-governance-v2` → `main` nur mit:  
  - mind. 1 Maintainer-Approval + CODEOWNERS Zustimmung.  
  - Required Checks: `ci`, `security-gates`, `gdpr-compliance`.  
  - Status-Checks dürfen nicht „skipped“ sein (strict mode).  
- Break-Glass: nur für kritische Security-Fixes; PR-Titel `[BREAK-GLASS]`.

---

## Evidence & Compliance

- Evidence-Ordner (`docs/evidence/`) enthält Snapshot von AGENTS und weitere Artefakte.  
- GDPR/JDSR Checks belegen: Retention 180 Tage, Tombstone-Workflow, EU-Provider.  
- Prompt-Log verpflichtend bei KI-Nutzung.

---

## Known Follow-ups

- Contract-Sync-Automation (OpenAPI → Types) als eigener CI-Job finalisieren.  
- Load-/Paralleltests (Roadmap Schritt 41/38) in CI einhängen.  
- Status-Page Providerfestlegung dokumentieren (`docs/infra/status-page.md`).  
- Release Notes automatisieren (generiert aus CHANGELOG).
