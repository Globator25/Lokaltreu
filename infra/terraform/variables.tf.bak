variable "fly_primary_region" {
  type = string
  validation {
    condition     = can(regex("^(ams|cdg|fra|lhr|arn)$", var.fly_primary_region))
    error_message = "Fly-Region muss EU sein."
  }
}

variable "neon_region" {
  type        = string
  description = "Neon Project Region (aws-...)"             # EU-only: aws-eu-central-1 (FR) or aws-eu-west-2 (UK, not EU-27)
  default     = "aws-eu-central-1"
  validation {
    condition     = can(regex("^(aws-eu-central-1|aws-eu-west-2|azure-gwc)$", var.neon_region))
    error_message = "Neon-Region muss EU sein."
  }
}

variable "r2_location_hint" {
  type    = string
  default = "weur"
  validation {
    condition     = can(regex("^(weur|eeur)$", var.r2_location_hint))
    error_message = "R2 Location Hint muss weur oder eeur sein."
  }
}

variable "r2_jurisdiction" {
  type    = string
  default = "eu"
  validation {
    condition     = can(regex("^eu$", var.r2_jurisdiction))
    error_message = "R2 Jurisdiction muss 'eu' sein."
  }
}
variable "name_prefix"        { type = string  default = "lokaltreu-dev" }

variable "neon_api_key"       { type = string  sensitive = true }
variable "upstash_api_key"    { type = string  sensitive = true }
variable "upstash_email"      { type = string  sensitive = true }
variable "cloudflare_api_token" { type = string sensitive = true }
variable "cloudflare_account_id" { type = string }

# EU-Policies
variable "neon_region"     { type = string  default = "aws-eu-central-1" }  # Frankfurt
variable "upstash_region"  { type = string  default = "eu-central-1" }      # Frankfurt
variable "r2_jurisdiction" { type = string  default = "eu" }
